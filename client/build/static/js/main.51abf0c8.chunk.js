(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){},139:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),r=n(9),c=n.n(r),i=(n(100),n(31)),o=n(32),u=n(37),h=n(36),l=n(66),d=n(84),j=n.n(d),p=(l.EventEmitter,function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).socket=void 0,e._state=void 0,e.socket=j()("http://".concat(window.location.host.split(":")[0],":3001")),e.socket.on("connect",(function(){return e.emit("reload")})),e.socket.on("disconnect",(function(){return e.emit("reload")})),e.socket.on("welcome",(function(t){e.state=t,e.emit("reload")})),e.socket.on("incorrect-password",(function(){return e.emit("incorrect-password")})),e.socket.on("chat-message",(function(t){e.state&&e.emit("chat-message",t)})),e.socket.on("user-join",(function(t){var n;e.emit("announcement","".concat(t," has joined the chat!")),null===(n=e.state)||void 0===n||n.users.push(t),e.emit("reload")})),e.socket.on("user-leave",(function(t){var n;e.emit("announcement","".concat(t," has left the chat!")),e.state&&(e.state.users=null===(n=e.state)||void 0===n?void 0:n.users.filter((function(e){return e!==t})),e.emit("reload"))})),e.socket.on("signup-success",(function(t){return e.emit("signup-success",t)})),e.socket.on("signup-fail",(function(t){return e.emit("signup-fail",t)})),e}return Object(o.a)(n,[{key:"state",get:function(){return this._state},set:function(e){this._state=e}},{key:"connected",get:function(){return this.socket&&this.socket.active}},{key:"authenticated",get:function(){return void 0!==this.state}},{key:"requestLogin",value:function(e,t){this.socket.emit("login-request",{username:e,password:t})}},{key:"requestSignup",value:function(e,t){this.socket.emit("signup-request",{username:e,password:t})}},{key:"sendMessage",value:function(e){this.socket.emit("chat-message",e)}}]),n}(l.EventEmitter)),m=n(41),b=n(23),f=n(49),g=n(56),v=n(5),O=n(140),x=n(174),y=n(175),k=n(180),w=n(176),S=n(181),C=n(177),I=n(4),q=Object(v.a)({root:{color:"#ff0000"}})(O.a),M=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var s;return Object(m.a)(this,n),(s=t.call(this,e)).state={username:"",password:"",error:""},s.props.chathandler.on("incorrect-password",(function(){s.setState({username:s.state.username,password:"",error:"Your password is incorrect!"})})),s}return Object(b.a)(n,[{key:"render",value:function(){var e=this;return Object(I.jsx)(x.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",style:{minHeight:"100vh"},children:Object(I.jsxs)(y.a,{elevation:10,style:{padding:50,height:320,width:320,margin:"20px auto"},children:[Object(I.jsx)("h2",{children:"LAET Chat - Sign In"}),Object(I.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=e.state,s=n.username,a=n.password;e.props.chathandler.requestLogin(s,a)},children:[Object(I.jsx)(k.a,{label:"Username",value:this.state.username,onChange:function(t){return e.setState({username:t.target.value,password:e.state.password,error:""})},fullWidth:!0,required:!0}),Object(I.jsx)(k.a,{label:"Password",type:"password",value:this.state.password,onChange:function(t){return e.setState({username:e.state.username,password:t.target.value,error:""})},fullWidth:!0,required:!0}),Object(I.jsx)(w.a,{control:Object(I.jsx)(S.a,{name:"checkedB",color:"primary"}),label:"Remember me"}),Object(I.jsx)(C.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Sign In"})," ",this.state.error?Object(I.jsx)(q,{children:this.state.error}):Object(I.jsx)(I.Fragment,{})]})]})})}}]),n}(a.a.Component),F=n(179),D=n(178),E=function(e){return Object(I.jsxs)(O.a,{children:[Object(I.jsx)("b",{children:e.sender}),": ",e.content]})},L=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var s;return Object(m.a)(this,n),(s=t.call(this,e)).state={input:"",messages:[]},s}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.props.chathandler.on("chat-message",this.appendMessage.bind(this)),this.props.chathandler.on("announcement",this.appendAnnouncement.bind(this))}},{key:"appendMessage",value:function(e){var t=this.state,n=t.input,s=t.messages,a=e.sender,r=e.content;s.push(Object(I.jsx)(E,{sender:a,content:r})),this.setState({input:n,messages:s})}},{key:"appendAnnouncement",value:function(e){var t=this.state,n=t.input,s=t.messages;s.push(Object(I.jsx)(O.a,{children:Object(I.jsx)("b",{children:e})})),this.setState({input:n,messages:s})}},{key:"setInput",value:function(e){this.setState({input:e,messages:this.state.messages})}},{key:"render",value:function(){var e=this;return Object(I.jsxs)(x.a,{container:!0,direction:"column",spacing:0,alignItems:"center",justifyContent:"center",children:[this.state.messages.map((function(e,t){return Object(I.jsxs)(x.a,{item:!0,children:[" ",e," "]},t)})),Object(I.jsx)("form",{onSubmit:function(t){t.preventDefault();var n=e.state.input;e.props.chathandler.sendMessage(n),e.setInput("")},children:Object(I.jsxs)(x.a,{item:!0,children:[Object(I.jsx)(k.a,{id:"outlined-basic",label:"Message",value:this.state.input,variant:"outlined",onChange:function(t){return e.setInput(t.target.value)}}),Object(I.jsx)(C.a,{variant:"contained",type:"submit",color:"primary",style:{width:80,height:50},endIcon:Object(I.jsx)(D.a,{}),children:"Send"})]})})]})}}]),n}(a.a.Component),W=n(11),T=Object(v.a)({root:{color:"#ff0000"}})(O.a),A=Object(v.a)({root:{color:"#00ff00"}})(O.a),B=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={username:"",password:"",footer:Object(I.jsx)(I.Fragment,{})},s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.chathandler.on("signup-fail",(function(){e.setState({username:e.state.username,password:"",footer:Object(I.jsx)(T,{children:"There is already a user with that name!"})})})),this.props.chathandler.on("signup-success",(function(t){var n=t.username;e.setState({username:"",password:"",footer:Object(I.jsxs)(A,{children:["User ",n," successfully created!"]})})}))}},{key:"render",value:function(){var e=this;return Object(I.jsx)(x.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",style:{minHeight:"100vh"},children:Object(I.jsxs)(y.a,{elevation:10,style:{padding:50,height:320,width:320,margin:"20px auto"},children:[Object(I.jsx)("h2",{children:"LAET Chat - Sign Up"}),Object(I.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=e.state,s=n.username,a=n.password;e.props.chathandler.requestSignup(s,a)},children:[Object(I.jsx)(k.a,{label:"Username",value:this.state.username,onChange:function(t){return e.setState({username:t.target.value,password:e.state.password,footer:Object(I.jsx)(I.Fragment,{})})},fullWidth:!0,required:!0}),Object(I.jsx)(k.a,{label:"Password",type:"password",value:this.state.password,onChange:function(t){return e.setState({username:e.state.username,password:t.target.value,footer:Object(I.jsx)(I.Fragment,{})})},fullWidth:!0,required:!0}),Object(I.jsx)(w.a,{control:Object(I.jsx)(S.a,{name:"checkedB",color:"primary"}),label:"Remember me"}),Object(I.jsx)(C.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Sign In"})," ",this.state.footer]})]})})}}]),n}(a.a.Component),P=new p,U=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={authenticated:!1,connected:!1},s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){P.on("reload",this.reload.bind(this))}},{key:"reload",value:function(){var e=P.authenticated,t=P.connected;this.setState({authenticated:e,connected:t})}},{key:"render",value:function(){return this.state.connected?this.state.authenticated?Object(I.jsx)(L,{chathandler:P}):Object(I.jsx)(M,{chathandler:P}):Object(I.jsx)(x.a,{container:!0,alignItems:"center",justifyContent:"center",spacing:0,direction:"column",style:{minHeight:"100vh"},children:Object(I.jsx)(F.a,{})})}}]),n}(a.a.Component),H=function(){return Object(I.jsxs)(W.c,{children:[Object(I.jsx)(W.a,{exact:!0,path:"/",component:U}),Object(I.jsx)(W.a,{exact:!0,path:"/signup",component:function(){return Object(I.jsx)(B,{chathandler:P})}})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,183)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),r(e),c(e)}))},J=n(65);c.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(J.a,{children:Object(I.jsx)(H,{})})}),document.getElementById("root")),_()}},[[139,1,2]]]);
//# sourceMappingURL=main.51abf0c8.chunk.js.map